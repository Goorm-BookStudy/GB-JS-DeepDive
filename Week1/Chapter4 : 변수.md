# Chapter 4 : 변수

### 변수란?

Variable => 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기위해 붙인 이름

그렇다면 메모리는 무엇일까?

=> 데이터를 저장할 수 있는 메모리 셀 (Memory Cell)의 집합체 : 메모리 셀 하나의 크기는 1바이트(8비트)이며, 컴퓨터는 메모리 셀의 크기, 즉 1바이트 단위로 데이터를 저장하거나 읽어들임.

<특징> 

- 각 셀은 고유의 메모리 주소를 가지고 있음.
- 이 메모리 주소는 공간의 위치를 나타냄.
- 0부터 시작해서 메모리 크기만큼 정수로 표현됨.

컴퓨터의 기본 동작

컴퓨터는 기본적으로 모든 데이터를 2진수로 처리한다.

각 메모리 주소에 있는 피연산자(Operand) 인식하고 연산자(Operator)의 의미를 Parsing(해석) 해서 나온 결과를 다시 임의의 메모리 주소에 저장함. 이 때 저장되는 값은 모두 2진수임.

### 변수는 재사용성을 목적으로 만들어진 개념이다.

=> 변수의 사용여부를 결정하기 전에 이 코드가 재사용될 가능성이 있는지 먼저 판단하자.

#### 변수 이름 : 메모리 공간에 저장된 값을 식별할 수 있는 고유한 이름

#### 변수 값 : 변수에 저장된 값

#### 할당 : 변수에 값을 저장하는 행위

#### 참조 : 변수에 저장된 값을 읽어들이는 행위

### 변수에 저장된 값의 의미를 파악하기 용이한 변수 이름은 코드의 가독성을 높이는 부수적인 효과가 있다.

### 식별자(Identifier)란?

=> 어떤 값을 구별해서 식별할 수 있는 고유한 이름

- 식별자는 값이 저장되어있는 메모리 주소와 매핑 관계를 맺으며, 이 매핑정보도 메모리에 저장되어야 한다.
- 식별자는 값이 아니라 메모리 주소를 기억하고 있다.
- 식별자가 기억하고 있는 메모리 주소를 통해 메모리에 저장된 값에 접근할 수 있다.
- 식별자라는 용어는 변수이름에만 국한해서 사용하지 않는다. => 변수, 함수, 클래스 등의 이름은 모두 식별자이다.

### 변수 선언

- 변수를 생성하는 것
- 값을 저장하기 위한 메모리 공간을 확보하고 변수이름(식별자)와 확보된 메모리공간의 주소를 연결해서 값을 저장할 수 있도록 준비하는 행위

=> 변수를 사용하려면 반드시 선언이 필요함.

### Javacript만의 독특한 특징 undefined

=> 변수 선언에 의해 메모리 공간은 확보했지만 값을 초기화 해주지 않는다면 그 안이 비어있다고 생각될 것이다. 하지만 자바스크립트 엔진은 이 확보된 메모리 공간에 undefined라는 원시타입의 값을 암묵적으로 할당한다.

#### Javascript의 변수 선언 단계

1. 선언 단계 : 변수 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알린다.
2. 초기화 단계 : 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 undefined를 할당해 초기화 한다.

### 변수 선언의 실행 시점과 변수 호이스팅

``` javascript
console.log(score);

var score; 

// var는 선언과 동시에 초기화가 됨. 

//원래라면 undefined가 출력되는것이 아니라 Reference Error (참조에러) 가 발생해야 함. 

//하지만 undefined가 정상 출력됨.
```
#### 이유

=> 변수 선언이 소스코드가 한 줄씩 순차적으로(동기적) 실행되는 시점인 런타임(Runtime)이 아니라 그 이전 단계에서 먼저 실행 되기 때문이다.

#### 그럼 여기서 Runtime이전에 어떤일이 일어나는 것일까?

=> Javascript는 Runtime이전에 소스코드의 평가과정을 거치면서 소스코드의 실행 준비를 한다. 이 과정에서 Javascript 엔전은 변수 선언을 포함한 모든 선언문(변수 선언문, 함수 선언문 등)을 소스코드에서 찾아내 먼저 실행 한다.

이 과정이 끝나면 선언문을 제외하고 Runtime에서 실행한다.

실질적으로 자바스크립트 엔진은 변수 선언이 어디에 되어있던 간에 최우선적으로 먼저 선언에 관련된 코드를 실행한다는 의미이다.

그래서 변수선언이 소스코드의 어디에 위치하던간에 어디서든지 변수를 참조 할 수 있다.

이렇듯이 변수의 선언문은 실제로는 코드에서 하단에 위치하여도 최우선적으로 코드가 실행될 수 밖에 없는 구조이므로 우리에게는 마치 선언 코드를 코드의 최상단으로 끌어올려서 코드를 실행하는 것처럼 인식되며 동작한다. 이러한 Javascript 특유의 동작 방식을 변수 Hoisting 이라고 한다. 

#### 변수 뿐 아니라 var, let, const, function, class 키워드를 사용해서 선언하는 모든 식별자는 호이스팅 된다. 근본적으로 모든 선언문은 런타임 이전 단계에서 실행 되기 때문이다.

### 값의 할당

변수 선언과 값의 할당을 하나의 문으로 단축 표현해도 실제 컴퓨터 상에서는 변수 선언과 값의 할당을 두개의 문으로 나누어 각각 실행하므로 정확히 동일하게 동작한다.

#### 하지만 변수 선언과 값의 할당의 실행 시점은 다르다. 변수 선언은 런타임 이전에 실행되고 값의 할당은 런타임에 실행된다.

// var는 선언과 초기화가 동시에 일어나서 새로운 값을 할당할 때 무조건적으로 값의 재할당이 일어난다.

#### 재할당 => 새로운 메모리공간 확보 후, 새로운 값 저장

#### 기존의 메모리 공간을 지우고 그곳에 새로운값을 저장하는 개념이 아님.



#### 재할당이 불가능하다는 의미 => 새로운 메모리 공간을 확보하는 것 자체가 불가능하고 처음에 사용한 메모리공간만을 이용해야한다는 의미 => 그래서 결론적으로 원하는 값을 새로 저장할 수 없다. (이미 원래의 메모리공간에는 기존의 값이 저장되어 있으므로) 

### => 이렇게 재할당이 불가능한 변수를 상수(Constant)라고 부른다.

=> 한번 정해지면 변하지 않는값이고, 단 한번만 값을 할당할 수 있는 변수이다. 

### 식별자의 네이밍 규칙

- 식별자는 특수문자를 제외한 문자, 숫자, _, $를 포함할 수 있다.
- 단, 식별자는 특수문자를 제외한 문자, _, $로 시작해야한다. => 숫자로 시작하는것은 허용하지 않는다.
- 예약어는 식별자로 사용할 수 없다.

- 권장사항 : 변수의 존재 목적을 쉽게 이해할 수 있도록 의미를 명확히 표현하면 코드의 가독성을 높일 수 있다.

#### 네이밍 컨벤션 (가독성을 위한 일종의 규칙)

1. 카멜 케이스 : firstName

2. 스네이크 케이스 : first_name

3. 파스칼 케이스 : FirstName

4. 헝가리언 케이스 : $elem(DOM노드)

=> 가장 보편적으로 변수나 함수의 이름에 적용 : 카멜케이스

=> 생성자 이름, 클래스이름 : 파스칼 케이스






