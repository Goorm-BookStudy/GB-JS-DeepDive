# ✏️ 4장. 변수

### 📌 4.1 변수란 무엇인가?

- 프로그래밍 언어에서 데이터를 관리하기 위한 핵심 개념
- 컴퓨터는 CPU를 사용해 연산하고, 메모리를 사용해 데이터를 기억한다.
  - 메모리: 데이터를 저장할 수 있는 메모리 셀의 집합체
  - 메모리 셀 하나의 크기는 1바이트(8비트)로 컴퓨터는 이 단위의 데이터를 저장하거나 읽는다.
  - 각 셀은 메모리 공간의 위치를 나타내는 고유한 메모리 주소를 갖는다.
  - 컴퓨터는 모든 데이터를 2진수로 처리한다. 메모리에 저장되는 모든 데이터는 종류와 무관하게 2진수로 저장된다.
- 연산을 하고 메모리에 저장도 했지만 연산한 값을 재사용하려면?
  - 연산 결과가 저장된 메모리 공간에 직접 접근해야 한다.
  - 하지만 이 방법은 위험하기 때문에 JS는 개발자의 직접적인 메모리 제어를 허용치 않는다.
  - 허용하더라도 저장될 때마다 값이 저장되는 위치가 바뀌기 때문에 불가하다.
  - 따라서 값의 위치를 가리키는 상징적인 이름 '변수'를 사용한다.
- 변수: '하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하는 이름'
  - 프로그래밍 언어의 컴파일러/인터프리터에 의해 값이 저장된 메모리 공간의 주소로 치환되어 실행된다.
  - 변수는 하나의 값을 저장하기 위한 메커니즘이다.
    - 객체나 배열 같은 자료구조를 사용하면 여러 개의 값을 하나로 그룹화 해 하나의 값처럼 사용할 수 있다.
  - 변수값: 변수에 저장된 값
  - 할당(assignment): 변수에 값을 저장하는 것
  - 참조(reference): 변수에 저장된 값을 읽어들이는 것

### 📌 4.2 식별자

- 어떤 값을 구별해서 식별할 수 있는 고유한 이름 === 메모리 주소에 붙인 이름 === 변수 이름
- 단, 식별자는 값이 아니라 '메모리 주소'를 기억하고 있다.
- 식별자는 선언(declaration)에 의해 인식된다.

### 📌 4.3 변수 선언

- 변수 선언: 변수를 생성하는 것
  - 값을 저장히기 위해 메모리 공간을 '확보'하고 변수 이름과 그 메모리 주소를 '연결'하는 것
  - 확보된 메모리 공간은 해제되기 전까지 누구도 사용할 수 없도록 보호된다.
  - 변수를 사용하려면 반드시 '선언'이 필요하다.
  - var, let, const 키워드를 사용한다.
- var
  - 함수 레벨 스코프를 지원한다. 전역 변수로 선언되는 부작용이 있다.
  - 변수 선언 후 확보된 메모리 공간은 'undefined' 값이 암묵적으로 할당해 초기화 되어 있다.
  - var를 이용한 변수 선언은 '선언'과 '초기화'가 동시에 진행된다.
  - 초기화 단계를 거치지 않으면 확보된 메모리 공간에 이전에 다른 애플리케이션이 사용한 값(Garbage value)가 남아 있지만, var는 초기화를 진행해서 쓰레기 값이 없다.
  - 만약 '선언'하지 않고 접근한다면 참조 에러(ReferenceError)가 발생한다.

### 📌 4.4 변수 선언 실행 시점과 변수 호이스팅

```
console.log(score); // undefined
var score; // 변수 선언문
```

- 변수 선언보다 변수를 참조하는 코드가 앞에 있다면? 참조 에러가 발생할 것 같지만undefined가 출력된다.
- 변수 선언은 소스 코드가 한 줄씩 순차적으로 실행되는 시점(런타임)이 아니라 이전 단계에서 실행된다.
- JS는 변수 선언이 어디에 있든 상관 없이 어디서든지 변수를 참조한다.
- 변수 호이스팅(variable hoisting): 코드의 선두로 '끌어 올려진' 것처럼 동작하는 것
  - var, let, const, function, function\*, class 키워드를 사용해 선언되는 모든 식별자는 호이스팅된다.
  - 모든 선언문은 런타임 이전 단계에서 먼저 실행되기 때문

### 📌 4.5 값의 할당

```
console.log(score); // undefined
var score;
score = 80;
console.log(score); // 80
```

- 변수에 값을 할당할 때는 할당 연산자(=)를 사용한다.
- 변수 선언과 값의 할당 시점이 다르다.
  - 변수 선언: 소스 코드가 순차적으로 실행되는 시점인 런타임 이전
  - 값의 할당: 소스 코드가 순차적으로 실행되는 시점인 런타임에 실행
- undefined가 있던 메모리 공간을 지우고 80을 새롭게 저장하는 것 ❌
- 새로운 메모리 공간 확보 후 80을 저장하는 것 ⭕️

```
console.log(score); // undefined (값 할당 전에는 undefined로 초기화)
score = 80; // 값 할당
var score; // 변수 선언 (호이스팅)
console.log(score); // ?? (80)
```

### 📌 4.6 값의 재할당

```
var score = 80;
score = 90;
```

- 재할당: 이미 값이 할당되어 있는 변수에 새로운 값을 또 다시 할당하는 것
- var 키워드로 선언한 변수는 값을 재할당 할 수 있다.
  - 재할당 할 수 없다면, 한 번 정하고 바꿀 수 없다면 상수(constant)
  - const로 선언된 변수는 재할당이 금지된다.
- undefined -> 80 -> 90으로 현재 변수 score의 값이 바뀌었다.
- 더 이상 필요하지 않은 두 값은 가비지 콜렉터에 의해 메모리에서 자동 해제된다.
  - 단, 메모리에서 언제 해제될지 예측할 수 없다.
  - 가비지 콜렉터: 애플리케이션이 할당한 메모리 공간을 주기적으로 검사해 더 이상 사용되지 않는 메모리를 해제하는 기능
  - JS는 가비지 콜렉터를 내장한 매니지드 언어로 이를 통해 메모리 누수를 방지한다.

### 📌 4.7 식별자 네이밍 규칙

- 식별자: 어떤 값을 구별해 식별할 수 있는 고유한 이름
  - 특수문자를 제외한 문자/숫자/\_/$ 를 쓸 수 있다.
  - 단, 숫자로 시작할 수 없다.
  - 예약어(프로그래밍 언어에서 사용되고 있거나 사용될 예정인 단어)는 식별자로 사용할 수 없다.
  - \*는 식별자로 사용할 수 있으나 strict mode에서는 ❌

| await       | break    | case         | catch   | class     | const      |
| ----------- | -------- | ------------ | ------- | --------- | ---------- |
| continue    | debugger | default      | delete  | do        | else       |
| enum        | export   | extends      | false   | finally   | for        |
| function    | if       | implements\* | import  | in        | instanceof |
| interface\* | let\*    | new          | null    | package\* | private\*  |
| protected\* | public\* | return       | super   | static\*  | switch     |
| this        | throw    | true         | try     | typeof    | var        |
| void        | while    | with         | yield\* |           |            |

- 좋은 변수 이름은 가독성을 높인다.
