## 09장 타입 변환과 단축 평가
### 타입 변환
#### 1. 명시적 타입 변환(타입 캐스팅)
> 📌 JS의 모든 값은 타입이 있고 개발자의 의도에 따라 타입 변환이 가능하다. 이를 **명시적 타입 변환** 혹은 **타입 캐스팅**이라 한다. ( keyword -> 의도적인 변환 )

<br/>

🟢 명시적으로 타입을 변경하는 방법 🟢
1. 표준 빌트인 생성자 함수(String, Number, Boolean)를 new 연산자 없이 호출
2. 빌트인 메서드를 사용
3. 암묵적 타입 변환을 이용

<br/>

#### 📌 문자열로 명시적으로 타입을 변경하는 방법
![](https://velog.velcdn.com/images/mintmin0320/post/3a42dd94-a02e-4a65-9153-db6a82b6c51c/image.png)

<br/> 

#### 숫자로 타입 변경하는 방법
![](https://velog.velcdn.com/images/mintmin0320/post/0f5bdf0c-54b5-47b4-9aa2-fd0481291d44/image.png)

<br/>

####  불리언 타입으로 변환
![](https://velog.velcdn.com/images/mintmin0320/post/5ea87bc3-0752-4c6c-8ce7-e0266eedd337/image.png)


<br/>

#### 2. 암묵적 타입 변환(타입 강제 변환)
> 📌 개발자 의도와는 상관없이 표현식 평가 도중 JS 엔진에 의해 암묵적으로 타입이 자동 변경되는 경우가 있다. 이를 ***암묵적 타입 변환*** 혹은 ***타입 강제 변환***이라 한다.

<br/>

#####  문자 타입으로 변환
![](https://velog.velcdn.com/images/mintmin0320/post/c747e5e7-935c-4cd2-81e1-0b56e277ef2f/image.png)

##### 숫자 타입으로 변환
- 문자열의 형태지만 그 값이 숫자일 경우 숫자 타입으로 암묵적 변환이 발생한다.
- 정확한 비교를 수행할 경우 동등 연산자(==)가 일치 연산자(===)가 필요한 이유다.
```
1 - '1'   // 0
'1' > 0  // true
```

<br/>

#####  불리언 타입으로 변환
- JS 엔진은 타입이 아닌 값을 두 가지로 구분한다.

📍 Truthy(참으로 평가되는 값) ex. 1, true

📍 Falsy(거짓으로 평가되는 값) ex. false, 0, -0, null, undefined, NaN, ' '(빈 문자열) 
(💡 false가 되는 값들을 유의하자 특히 undefined, null 앞으로 데이터 검증 등 자주 사용된다.)

<br/>

#### 🤔 타입 변환 발생 이유
- JS엔진이 표현식을 **에러** 없이 평가하기 위해 한 번 사용하고 버린다.
- 타입의 자동 변환이 이루어지면 예측하지 못한 결과들이 발생할 수 있다. 그러므로 타입 변환을 정확히 이해하고 사용할 필요가 있다.

<br/>
<br/>

### 단축 평가
> 📌 단축 평가
논리 연산의 결과를 결정하는 피연산자를 타입 변환 없이 그대로 반환하는 것

```
/* 예제 */
'Cat' && 'Dog' // "Dog"
```

<br/>

📍 논리곱(&&)
- 두 개의 피연산자가 모두 true로 평가되면 true 반환
- 좌항 -> 우항으로 평가 ( 좌항 Cat이 true면 논리 연산 결과를 결정하는 우항을 평가하고 그 결과를 반환한다.)

```
/* 예제 */
'Cat' || 'Dog' // "Cat"
```
📍 논리합(||)
- 두 개의 피연산자가 하나라도 true로 평가되면 true 반환
- 좌항 -> 우항으로 평가 ( 논리 연산 결과를 결정하는 좌항 Cat이 true -> 결과 반환)

<br/><br/>

#### 객체를 가리키기를 기대하는 변수가 null or undifined가 아닌지 확인하고 프로퍼티를 참조할 때 유용하다.
📍 객체를 가리키기를 기대하는 변수가 null or undifined인 경우 이 변수를 참조하면 오류를 발생시키고 프로그램이 종료된다. 이 경우 단축 평가를 사용하면 Falsy 값일 경우와 Truthy 값일 경우의 분기를 주면 에러가 발생되지 않는다
```
/* 예제 */
var elem null;

var value = elem && elem.value;
```

<br/>

#### 함수 매개변수에 기본값을 설정할 때
📍 함수 호출 시 인수를 전달하지 않으면 매개변수가 undefined로 할당된다. 이때 단축 평가를 사용해 매개변수의 기본값을 설정하면 에러를 방지할 수 있다.
```
function getStringLength(str){
	str = str || '';
    
    return str.length;
}

getStringLength(); // 0
getStringLength('hi'); // 2
```

<br/>

### 옵셔널 체이닝 연산자( ?. )
> 📌 좌항의 피연산자가 null or undefined인 경우 undefined 반환, 그렇지 않으면 우항 프로퍼티 참조를 이어감.

- 객체가 가리키기를 기대하는 변수의 값이 null or undefined인지 확인하는데 유용하다.

```
var elem null;

var value = elem?.value; // elem이 null or undefined이면 elem의 값을 반환 아니면 value 값 반환
console.log(value); // null
```

#### ⭐️ null or undefined은 평가되지만, Falsy 값은 평가하지 않는다. ⭐️
📍 즉 null or undefined 값만 잡기 위해 사용해야한다.

<br/>

### null 병합 연산자 ( ?? )
> 📌 좌항의 피연산자가 null or undefined인 경우 우항의 피연산자를 반환하고, 그렇지 않으면 좌항 피연산자 반환

- 변수 기본값 설정 시 유용하다.
```
var foo = null ?? 'default string';
console.log(foo); // "default string"
```

#### ⭐️ 마찬가지로 null or undefined은 평가되지만, Falsy 값은 평가하지 않기 때문에 Falsy 값 평가로는 적합하지 않다.⭐️
📍 null or undefined 값 평가만 위해서 사용하자

