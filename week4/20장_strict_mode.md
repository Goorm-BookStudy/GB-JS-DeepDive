# ✏️ 20장 strict mode

## 📌 20.1 strict mode란?

오타나 문법 지식의 미비 등으로 발생할 수 있는 오류를 줄일 수 있는 안정적인 개발 환경
ES5부터 도임된 엄격 모드로 JS 언어의 문법을 엄격하게 적용한다.

## 📌 20.2 strict mode의 적용

전역의 선두 또는 함수 몸체의 선두에 'use strict';를 추가한다.

## 📌 20.3 전역에 strict mode를 적용하는 것은 피하자

전역에 적용한 엄격 모드는 스크립트 단위로 적용된다.

- 따라서 엄격 모드는 해당 스크립트에만 한정되어 적용된다.
- 엄격 모드 스크립트와 그렇지 않은 스크립트를 혼용하면 오류가 발생할 수 있다.
- 즉시 실행 함수로 스크립트 전체를 감싸 스코프를 구분하고 즉시 실행 함수의 선두에 엄격 모드를 적용하는 경우로 대체한다.

## 📌 20.4 함수 단위로 strict mode를 적용하는 것도 피하자

스크립트처럼 엄격 모드 함수와 그렇지 않은 함수를 혼용하는 것은 바람직하지 않다.
그렇다고 모든 함수에 일일이 엄격 모드를 적용하는 것도 번거롭다.
따라서 3과 같이 엄격 모드는 즉시 실행 함수로 감싼 스크립트 단위로 적용하는 것을 권장한다.

## 📌 20.5 strict mode가 발생시키는 에러

##### 1. 암묵적 전역

선언하지 않은 변수 참조 시 참조 에러가 발생한다.

##### 2. 변수, 함수, 매개변수의 삭제

delete 연산자로 변수, 함수, 매개변수를 삭제하면 구문 에러가 발생한다.

[찾아본 이유]
엄격 모드는 주로 코드 안정성과 예기치 않은 동작을 방지하기 위한 목적으로 도입되었음

1. 동적 행위를 지양하는 거면 추가하는 것도 금지되어야 하는 것 아닌가? 에 대한 고민

- 객체에 새로운 프로퍼티를 추가하는 동작은 일반적인 JS 동작으로 간주되어 구문 에러가 발생하지 않음
- delete 연산자의 경우 '존재하는' 프로퍼티를 삭제하는데 사용되므로 보다 엄격하게 관리되는 것

2. 그럼 삭제는 어떻게 하는가?

- 변수는 선언하지 않고 그냥 두면 됨 (알아서 JS 엔진에 의해 제거됨)
- 함수는 함수를 다른 변수에 할당하거나 호출하지 않으면 됨
- 함수 내 선언한 매개변수는 함수가 호출될 때만 유효해서 함수 실행이 끝나면 자동으로 해제됨 - 즉 딱히 삭제하지 않아도 된다.

##### 3. 매개변수 이름의 중복

중복된 매개변수 이름을 사용하면 구문 에러가 발생한다.

##### 4. with문의 사용

with문을 사용하면 구문 에러가 발생한다.

- with문은 전달된 객체를 스코프 체인에 추가한다.
- 동일한 객체의 프로퍼티를 반복해 사용할 때 객체의 이름을 생략할 수 있어 코드가 간단해지지만 성능과 가독성이 저하되므로 지양하는 것이 좋다.
