# 연산자

- 연산자는 값으로 평가될 수 있는 표현식인 피연산자를 연산의 대상으로 하여 산술, 할당, 비교, 논리, 타입, 지수 연산 등을 수행해 하나의 값을 만든다.
- 피연산자와 연산자의 조합인 연산자 표현식도 값으로 평가될 수 있는 표현식이다.

### 7.1 산술 연산자

- 피연산자를 대상으로 수학적 계산을 수행해 새로운 숫자 값을 만든다.
- 산술연산이 불가능한 경우 NaN 반환
- 피연산자의 개수에 따라 이항, 단항 산술 연산자로 구분
1. 이항 산술 연산자
    - 2개의 피연산자를 산술 연산하여 숫자 값 생성
    - 부수효과 없어 피연산자의 값이 바뀌지 않고 언제나 새로운 값을 만든다.
    
        | 이항 산술 연산자 | 의미 | 부수효과 |
        | --- | --- | --- |
        | + | 덧셈 | X |
        | - | 뺄셈 | X |
        | * | 곱셈 | X |
        | / | 나눗셈 | X |
        | % | 나머지 | X |
2. 단항 산술 연산자
    - 1개의 피연산자를 산술 연산하여 숫자 값 생성
    - 증가/감소 (++/—) 연산자는 피연산자의 값을 변경하는 부수효과 있음
        - 위치에 따라 의미가 다름(전위/후위)
    - 숫자 타입이 아닌 피연산자에 +, - 단항 연산자를 사용하면 피연산자를 숫자 타입으로 변환하여 반환( -는 부호 반전)
        - 피연산자를 변경하는게 아니라 숫자 타입으로 반환한 값을 생성해 반환하기에 부수효과 없음
    
        | 단항 산술 연산자 | 의미 | 부수효과 |
        | --- | --- | --- |
        | ++ | 증가 | O |
        | — | 감소 | O |
        | + | 효과 없음. 부호 반전 없음 | X |
        | - | 양수 ↔ 음수 반전 값 반환 | X |
3. 문자열 연결 연산자
    - +연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작
    - undefined는 숫자로 타입 변환되지 않는다.
    - 암묵적 타입 변환(=강제 타입 변환): 자바스크립트 엔진에 의해 암묵적으로 타입 자동 변환
    
    ```jsx
    1 + true; // 2 -> 암묵적 타입 변환
    
    +unfined; // NaN
    1 + undefined; // NaN
    ```
    

### 7.2 할당 연산자

- 우항의 피연산자의 평가 결과를 좌항의 변수에 할당. 할당하기에 부수효과 있음
- 할당문: 할당값으로 평가되는 표현식인 문
    
    ```jsx
    var x;
    console.log(x = 10); // 10
    ```
    

    | 할당 연산자 | 예 | 동일 표현 | 부수 효과 |
    | --- | --- | --- | --- |
    | = | x = 5 | x = 5 | O |
    | += | x += 5 | x = x += 5 | O |
    | -= | x -= 5 | x = x -= 5 | O |
    | *= | x *= 5 | x = x *= 5 | O |
    | /= | x /= 5 | x = x /= 5 | O |
    | %= | x %= 5 | x = x %= 5 | O |

### 7.3 비교 연산자

- 좌항 우항 비교해 결과 불리언 값으로 반환. if문이나 for 문 등 제어문의 조건식에 주로 사용
1. 동등/일치 비교 연산자
    - 좌항과 우항의 피연산자가 같은 값으로 평가되는지 비교해 불리언 값 반환. but 엄격성의 정도 다름.
    
        | 비교 연산자 | 의미 | 사례 | 설명 | 부수효과 |
        | --- | --- | --- | --- | --- |
        | == | 동등 비교 | x == y | x와 y의 값이 같음 | X |
        | === | 일치 비교 | x === y | x와 y의 값과 타입이 같음 | X |
        | ≠ | 부동등 비교 | x ≠ y | x와 y의 값이 다름 | X |
        | ≠= | 불일치 비교 | x ≠= y | x와 y의 값과 타입이 다름 | X |
    - 동등 비교(==) 연산자는 좌항과 우항의 피연산자를 비교할 때 먼저 암묵적 타입 변환을 통해 타입을 일치시킨 후 같은 값인지 비교
    - [Object.is](http://Object.is) 메서드: 예측 가능한 정확한 비교 결과 반환(아래 내용을 이거 쓰면 정확한 결과 반환)
        - NaN은 자신과 일치하지 않는 유일한 값. 숫자가 NaN인지 조사하려면 빌트인 함수 Number.isNaN 사용(인수가 NaN인지 불리언으로 반환)
        - 양과 음의 0 비교 시 true 반환
    
        ```jsx
        5 == '5'; // true
        5 === '5'; // false
        
        NaN === NaN; // false
        Number.isNaN(NaN); // true
        Number.isNaN(undefined); // false
        Object.is(NaN, NaN); // true
        
        0 === -0; // true
        0 === +0; // true
        Object.is(-0, +0); // false
        ```
    
2. 대소 관계 비교 연산자
    - 피연산자의 크기를 비교해 불리언 값 반환
    - 부수효과 없음
    - <, >,≤, ≥

### 7.4 삼항 조건 연산자

- 조건식의 평가 결과(불리언, 암묵적 타입 변환)에 따라 반환할 값 결정. 부수효과 없음
- 조건식 ? 조건식이 true 일 때 반환할 값 : 조건식이 false일 때 반환한 값

    ```jsx
    var result = scroe >= 60 ? 'pass' : 'fail';

    var x = 2;
    var result = x % 2 ? '홀수' : '짝수';
    ```

- 삼항 조건 연산자 표현식은 조건문이기에 if else문을 사용해도 삼항 조건 연산자 표현식과 유사하게 처리할 수 있지만 삼항 조건 연산자 표현식은 값처럼 사용할 수 있는 반면(표현식인 문), if else 문은 값처럼 사용할 수 없다(=표현식이 아닌 문)
- 조건에 따라 어떤 값을 결정해야 한다면 삼항 연산자 표현식, 조건에 따라 수행해야 할 문이 여러개면 if else 문의 가독성이 더 좋다.

### 7.5 논리 연산자

| 논리 연산자 | 의미 | 부수효과 |
| --- | --- | --- |
| ll | 논리합(OR) | X |
| && | 논리곱(AND) | X |
| ! | 부정(NOT) | X |

- 논리 부정 연산자는 불리언 값 반환. (암묵적 타입 변환)
- 논리합, 논리곱 연산자 표현식은 언제나 2개의 피연산자 중 한쪽의 값으로 평가

    ```jsx
    // 단축 평가
    'Cat' && 'Dog'; // Dog
    ```

### 7.6 쉼표 연산자

- 왼쪽 피연산자부터 차례대로 평가, 마지막 피연산자의 평가가 끝나면 마지막 피연산자의 평가 결과 반환

    ```jsx
    var x, y, z;
    x = 1, y = 2, z = 3; // 3
    ```

### 7.7 그룹 연산자

- 소괄호()로 피연산자를 감싸 자신의 피연산자인 표현식을 가장 먼저 평가
- 그룹 연산자의 우선순위가 가장 높기에, 그룹 연산자를 사용햐 우선순위를 조절할 수 있다.

### 7.8 typeof 연산자

- 피연산자의 데이터 타입을 7가지 문자열(string, number, boolean, undefined, symbol, object, function) 중 하나로 반환
- null 반환 x → object로 반환되는데 이는 버그
    - null 타입인지 확인할 때 일치 연산자(===) 사용
- null, [], {}, new Date(), 정규식은 object로 반환
- typeof 연산자가 반환하는 문자열은 7개의 데이터 타입과 정확히 일치하지는 않는다.
- 선언하지 않은 식별자는 undefined 반환

### 7.9 지수 연산자

- 좌항의 피연산자를 밑, 우항의 피연산자를 지수로 거듭 제곱하여 숫자 값 반환
- = Math.pow
- 할당 연산자와 함께 사용할 수 있고 이항 연산자 중에서 우선순위가 가장 높다.

### 7.10 그 외의 연산자

| 연산자 | 개요 |
| --- | --- |
| ?. | 옵셔널 체이닝 연산자 |
| ?? | null 병합 연산자 |
| delete | 프로퍼티 삭제 |
| new | 생성자 함수를 호출할 때 사용하여 인스턴스를 생성 |
| instanceof | 좌변의 객체가 우변의 생성자 함수와 연결된 인스턴스인지 판별 |
| in | 프로퍼티 존재 확인 |

### 7.11 연산자의 부수 효과

- 할당 연산자(=), 증가/감소 연산자(++/—), delete 연산자는 다른 코드에 영향을 주는 부수효과가 있다.

### 7.12 연산자 우선순위

- 종류가 많아 기억하기 어려우므로 연산자 우선순위가 가장 높은 그룹 연산자를 사용해 우선순위를 명시적으로 저잘하는 것을 권장

### 7.13 연산자 결합 순서

- 어느쪽부터 평가를 수행할 것인지 나타내는 순서

| 결합 순서 | 연산자 |
| --- | --- |
| 좌항 → 우항 | +, -, /, %, <, ≤, >, ≥, &&, ||, ., [], (), ??, ?., in, instanceof |
| 우항 → 좌항 | ++, —, 할당 연산자(==, +=, -=, …), !x, +x, -x, ++x, —x, typeof, delete, ? … : …, ** |