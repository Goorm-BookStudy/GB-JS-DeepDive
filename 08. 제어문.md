# 08. 제어문

- 조건에 따라 코드 블럭을 실행하거나 반복 실행 시 사용. 코드의 실행 흐름을 인위적으로 제어할 수 있다.
- 가독성을 해치는 단점 → 고차함수(forEach, map, filter, reduce) 이용 권장

### 8.1 블록문

- 0개 이상의 문을 중괄호로 묶은 것 = 코드 블럭 = 블록
- 자바스크립트는 블록문을 하나의 실행 단위로 취급. 단독으로도 사용 가능하나 일반적이진 않음
- 문의 끝에는 세미콜론을 붙이는 것이 일반적이지만 블록문은 언제나 문의 종료를 의미하는 자체 종결성을 갖기에 블록문의 끝에는 세미콜론을 붙이지 않는다.

  ```jsx
  // 블록문
  {
    var foo = 10;
  }

  ```

  ```jsx
  // 제어문
  var x = 1;
  if (x < 10) {
    x++;
  }
  ```

### 8.2 조건문

- 주어진 조건식(불리언 값으로 평가될 수 있는 표현식)의 평가 결과에 따라 코드 블록의 실행 결정
1. if … else 문
    - 조건식의 평과 결과인 불리언 값(암묵적 타입 변환)에 따라 실행할 코드 블록 결정
    - else if, else문은 옵션
    - 코드 블록 내의 문이 하나뿐이라면 중괄호 생략 가능
    - 삼항 조건 연산자로 바꿔쓸 수 있음
        - 삼항 조건 연산자는 값으로 평가되는 표현식 → 값으로 사용 가능 → 변수에 할당 가능
        - if … else 문은 표현식이 아닌 문 → 값처럼 사용 불가능 → 변수에 할당 불가능
2. switch 문
    - 주어진 표현식을 평가해 그 값과 일치하는 표현식을 갖는 case 문으로 실행 흐름 이동
    
      ```jsx
      switch(표현식) {
        case 표현식1:
          switch 문의 표현식과 표현식1이 일치하면 실행될 문;
          break;
        case 표현식2:
          break;
          default:
        switch 문의 표현식과 일치하는 case 문이 없을 때 실행될 문;
      }
      ```
    
    - if…else 문은 조건식은 불리언 값으로 평가, switch 문의 표현식은 불리언 값보다는 문자열이나 숫자 값인 경우가 많다.
    - 폴스루(fall through) : 문을 실행한 후, switch 문을 탈출하지 않고 switch 문이 끝날 때까지 이후의 모든 case문과 default 문 실행. case문에 해당하는 문의 마지막에 break 문(코드블럭에서 탈출하는 역할, default 문에서는 보통 생략)을 사용하지 않으면 발생
        - 폴스루를 활용하여 문제를 해결하기도 한다.
        
          ```jsx
          var year = 2000;
          var month = 2;
          var days = 0;
          
          switch(month) {
            case 1: case 3: case 5: case 7: case 8: case 10: case 12:
              days = 31;
              break;
            case case 4: case 6: case 9: case 11:
              days = 30;
              break;
            case 2:
              days = ((year % 4 === 0 && year % 100 ) || ( year % 400 === 0 )) ? 29 : 28;
              break;
          }
          ```
        
        - switch 문 보다 if … else 문으로 해결할 수 있으면 if … else 문 사용 권장

### 8.3 반복문

- 조건식의 평가 결과가 참인 경우 코드 블록 실행 → 조건식 다시 평가 후 참이면 코드블럭 다시 실행 → 조건식이 거짓일 때 까지 반복
- for, while, do … while
- 대체: forEach(배열 순회), for … in(객체의 프로퍼티 열거 시 사용), for … of(이터러블 순회)
1. for 문
    
    ```jsx
    for (변수 선언문 또는 할당문; 조건식; 증감식) {
    	조건식이 참인 경우 반복 실행될 문;
    }
    
    for (;;) {} // 무한루프
    ```
    
    - for 문의 변수 선언문, 조건식, 증감식 모두 옵션, 어떤 식도 선언하지 않으면 무한 루프
    - 중첩 for 문 가능
2. while 문
    - 주어진 조건식의 평가 결과가 참(타입 강제 변환)이면 코드 블럭 반복 실행
    - for 문 - 반복 횟수 명확할 때 주로 사용
    - while 문 - 반복 횟수가 불명확 할 때 주로 사용
    - 조건식 언제나 참이면 무한 루프 → 탈출 위해 코드 블록 내 if 문으로 탈출 조건 만들고 break 문으로 코드 블록 탈출
3. do … while 문
    - 코드 블록을 먼저 실행하고 조건식 평가 → 코드 블록 무조건 한 번 이상 실행
        
        ```jsx
        var count = 0;
        
        do {
        	console.log(count); // 0, 1, 2
        	count++;
        } while (count < 3);
        ```
        

### 8.4 break문

- 레이블 문(식별자가 붙은 문), 반복문(for, for … in, for … of, while, do … while) 또는 switch문의 코드 블록 탈출 → 이외는 SyntaxErrror
    - 레이블 문: 프로그램의 실행 순서를 제어하는 데 사용. ex) switch 문의 case 문과 default 문. 탈출 시 break 문에 레이블 식별자 지정
        
        ```jsx
        // foo 라는 식별자가 붙은 레이블 블록문
        foo: {
        	console.log(1);
        	break foo; // foo 레이블 블록문을 탈출한다.
        	console.log(2);
        }
        console.log('Done!');
        
        // 중첩된 for 문의 내부 for 문에서 break 문을 실행하면 내부 for 문을 탈출하여 외부 for 문으로 진입
        // 외부 for 문을 탈출하려면 레이블 문 사용
        
        // outer 라는 식별자가 붙은 레이블 for 문
        outer: for (var i = 0; i < 3; i++) {
        	// i + j === 3 이면 outer 라는 식별자가 붙은 레이블 for 문을 탈출한다.
        	if (i + j === 3) break outer;
        	console.log(`inner [${i}, $[j]`);
        	}
        }
        console.log('Done!');
        ```
        
        - 중첩된 for 문 외부로 탈출 시 유용, but 그 밖의 경우는 권장 x → 프로그램 흐름 복잡해지고 가독성 나빠져서 오류를 일으킬 가능성 높기 때문
    - switch 문에서도 사용. break 문에 레이블 식별자 지정x.
- 불필요한 반복 횟수를 회피할 수 있어 유용

### 8.5 continue 문

- 반복문의 코드 블록 실행을 현 지점에서 중단하고 반복문의 증감식으로 실행 흐름을 이동(탈출x)
- if 문 내에서 실행해야 할 코드가 한 줄이라면 continue 문을 사용했을 때 보다 간편하고 가독성도 더 좋지만, if 문 내에서 실행해야 할 코드가 길다면 들여쓰기가 한 단계 더 깊어지므로 continue 문을 사용하는 편이 가독성이 더 좋다.
    
    ```jsx
    // continue 문을 사용하지 않으면, if 문 내에 코드를 작성해야 한다.
    for (var i = 0; i < string.length; i++) {
    	// 'l' 이면 카운트 증가
    	if (string[i] === search) {
    		count++;
    		// code
    	}
    }
    
    // continue 문을 사용하면 if 문 밖에 코드를 작성할 수 있다.
    for (var i = 0; i < string.length; i++) {
    	// 'l'이 아니면 카운트를 증가시키지 않는다.
    	if (string[i] !== search) continue;
    	count++;
    	// code
    }
    ```